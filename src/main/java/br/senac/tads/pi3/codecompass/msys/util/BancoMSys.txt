CREATE TABLE Produto (

	ID_Produto BIGINT NOT NULL GENERATED ALWAYS AS IDENTITY (START WITH 1, INCREMENT BY 1) CONSTRAINT PK_Produto PRIMARY KEY, 
        Cod_Produto int NOT NULL,
	Nome_Produto varchar(255)NOT NULL, 
	Tipo_Produto varchar(45) NOT NULL,
	Cor_Produto varchar(20) NOT NULL,
	Valor_Produto double NOT NULL, 
        Fabricante_Produto varchar(45) NOT NULL,
	Modelo_Produto VARCHAR(100) NOT NULL,
        Qnt_Produto int NOT NULL

)

INSERT INTO Produto (Cod_Produto, Nome_Produto, Tipo_Produto, Cor_Produto, Valor_Produto, Fabricante_Produto, Modelo_Produto, Qnt_Produto)
values (1, 'Violão Giannini GSF1R', 'Cordas', 'Preto', 150.00, 'Giannini', 'Violão', 10)

CREATE TABLE Funcionario (

	ID_Funcionario BIGINT NOT NULL GENERATED ALWAYS AS IDENTITY (START WITH 1, INCREMENT BY 1) CONSTRAINT PK_Funcionario PRIMARY KEY, 
        Nome_Funcionario varchar(100)NOT NULL, 
	Login_Funcionario varchar(45) NOT NULL,
	Senha_Funcionario varchar(45) NOT NULL,
	Cargo_Funcionario VARCHAR(20) NOT NULL,
	Email_Funcionario VARCHAR(100) NOT NULL,
        Filial_Funcionario CHAR(2) NOT NULL,
        Situacao_Funcionario CHAR(1) NOT NULL,
        Perfil_Funcionario CHAR(3) NOT NULL

)

INSERT INTO Funcionario (NOME_FUNCIONARIO, LOGIN_FUNCIONARIO, SENHA_FUNCIONARIO, CARGO_FUNCIONARIO, EMAIL_FUNCIONARIO, FILIAL_FUNCIONARIO, SITUACAO_FUNCIONARIO, PERFIL_FUNCIONARIO)
values ('Lia', 'liashiroma', '12345', 'Gerente', 'lia.shiroma@hotmail.com', 'SP', '1', 'T.I')






CREATE TABLE VENDAS (

	ID_VENDA BIGINT NOT NULL GENERATED ALWAYS AS IDENTITY (START WITH 1, INCREMENT BY 1) CONSTRAINT PK_VENDAS PRIMARY KEY,
	VALOR_VENDA DOUBLE NOT NULL,
	DATA_VENDA DATE NOT NULL,
        ID_PRODUTO BIGINT NOT NULL,
        ID_FUNCIONARIO BIGINT NOT NULL

	)


ALTER TABLE VENDAS ADD CONSTRAINT FK_PRODUTO FOREIGN KEY (ID_PRODUTO) REFERENCES PRODUTO(ID_PRODUTO);

ALTER TABLE VENDAS ADD CONSTRAINT FK_FUNCIONARIO FOREIGN KEY (ID_FUNCIONARIO) REFERENCES FUNCIONARIO(ID_FUNCIONARIO);


SELECT C.NOME_FUNCIONARIO, C.FILIAL_FUNCIONARIO, B.NOME_PRODUTO, B.TIPO_PRODUTO, A.VALOR_VENDA, A.DATA_VENDA FROM VENDAS A
INNER JOIN PRODUTO B ON A.ID_PRODUTO=B.ID_PRODUTO
INNER JOIN FUNCIONARIO C ON A.ID_FUNCIONARIO=C.ID_FUNCIONARIO



